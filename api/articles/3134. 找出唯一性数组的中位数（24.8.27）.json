{"title":"3134. 找出唯一性数组的中位数（24.8.27）","uid":"63e43b7253423aa57a51b39a198e62b6","slug":"3134. 找出唯一性数组的中位数（24.8.27）","date":"2024-08-27T13:41:20.004Z","updated":"2024-09-04T11:35:18.120Z","comments":true,"path":"api/articles/3134. 找出唯一性数组的中位数（24.8.27）.json","keywords":null,"cover":"https://s3.bmp.ovh/imgs/2024/09/04/9813f071f456e3ba.png","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>本次通过学习 <a href=\"https://leetcode.cn/problems/find-products-of-elements-of-big-array/solutions/2774549/olog-shi-tian-fa-pythonjavacgo-by-endles-w2l4\">灵茶山艾府</a> 的代码进行解题研究</p>\n<h2 id=\"题目\"><a href=\"#题目\" class=\"headerlink\" title=\"题目\"></a>题目</h2><p><strong>题目描述</strong>：</p>\n<p>给你一个整数数组 <code>nums</code> 。数组 <code>nums</code> 的唯一性数组是一个按元素从小到大排序的数组，包含了 <code>nums</code> 的所有非空子数组中不同元素的个数。</p>\n<p>换句话说，这是由所有 <code>0 &lt;= i &lt;= j &lt; nums.Length</code> 的 <code>distinct(nums[i..j])</code> 组成的递增数组。其中，<code>distinct(nums[..j])</code> 表示从下标 <code>i</code> 到下标 <code>j</code> 的子数组中不同元素的数量。</p>\n<p>返回 <code>nums</code> 唯一性数组的中位数。</p>\n<p>注意，数组的中位数定义为有序数组的中间元素。如果有两个中间元素，则取值较小的那个。<br><br></p>\n<p><strong>示例 1</strong>：</p>\n<p>输入：<code>nums=[1,2,3]</code></p>\n<p>输出：<code>1</code></p>\n<p>解释：</p>\n<p><code>nums</code> 的唯一性数组为 <code>[distinct(nums[(0..0)], distinct(nums[1..1]), distinct(nums [2.2]), distinct(nums[0..1]), distinct(nums[1..2]), distinct(nums[0..2])]</code>，即 <code>[1,1,1,2,2,3]</code> 。唯一性数组的中位数为 <code>1</code> ，因此答案是 <code>1</code> 。<br><br><br><strong>示例 2</strong>：</p>\n<p>输入：<code>nums=[3,4,3,4,5]</code></p>\n<p>输出：<code>2</code></p>\n<p>解释：</p>\n<p><code>nums</code> 的唯一性数组为 <code>[1,1,1,1,1,2,2,2,2,2,2,2,3,3,3]</code> 。唯一性数组的中位数为 <code>2</code> ，因此答案是 <code>2</code> 。<br><br></p>\n<p><strong>示例 3</strong>：</p>\n<p>输入：<code>nums=[4,3,5,4]</code></p>\n<p>输出：<code>2</code></p>\n<p>解释：</p>\n<p><code>nums</code> 的唯一性数组为 <code>[1,1,1,1,2,2,2,3,3,3]</code> 。唯一性数组的中位数为 <code>2</code> ，因此答案是 <code>2</code> 。<br><br></p>\n<p><strong>提示</strong>：</p>\n<ul>\n<li><p><code>1&lt;=nums.Length&lt;=105</code></p>\n</li>\n<li><p><code>1&lt;=nums[i]&lt;=105</code></p>\n</li>\n</ul>\n<h2 id=\"解题思路\"><a href=\"#解题思路\" class=\"headerlink\" title=\"解题思路\"></a>解题思路</h2><p>见代码</p>\n<h2 id=\"代码\"><a href=\"#代码\" class=\"headerlink\" title=\"代码\"></a>代码</h2><figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">子数组 是数组中连续的 非空 元素序列</span></span><br><span class=\"line\"><span class=\"comment\">子集的个数 :</span></span><br><span class=\"line\"><span class=\"comment\">            子集中数的个数: 1 2   3   4    ... n</span></span><br><span class=\"line\"><span class=\"comment\">            这个子集的个数: n n-1 n-2 n-3  ... 1</span></span><br><span class=\"line\"><span class=\"comment\">            数总和（由等差数列求和得）：（n+1）*n/2</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">中位数：数组的 中位数 定义为有序数组的中间元素。如果有两个中间元素，则取值较小的那个</span></span><br><span class=\"line\"><span class=\"comment\">       假设一个数组有 3 个数，则中位数是 1</span></span><br><span class=\"line\"><span class=\"comment\">       假设一个数组有 4 个数，则中位数是 1</span></span><br><span class=\"line\"><span class=\"comment\">       假设一个数组有 2k+1 个数，则中位数是 k+1【((2k+1)+1)/2】</span></span><br><span class=\"line\"><span class=\"comment\">       假设一个数组有 2k 个数，则中位数是 k-1 【(2k+1)/2】</span></span><br><span class=\"line\"><span class=\"comment\">       --&gt;假设一个数组有 n 个数，则中位数是 (n+1)/2</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">medianOfUniquenessArray</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> n=nums.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"type\">long</span> <span class=\"type\">long</span> k=((<span class=\"type\">long</span> <span class=\"type\">long</span>)n*(n<span class=\"number\">+1</span>)/<span class=\"number\">2</span><span class=\"number\">+1</span>)/<span class=\"number\">2</span>;<span class=\"comment\">//数组的个数</span></span><br><span class=\"line\">        <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">        设子数组的个数为 cnt，如果 cnt&lt;k </span></span><br><span class=\"line\"><span class=\"comment\">        说明二分的 m 小了，更新二分左边界 left，否则更新二分右边界 right</span></span><br><span class=\"line\"><span class=\"comment\">        */</span></span><br><span class=\"line\">        <span class=\"keyword\">auto</span> solve=[&amp;](<span class=\"type\">int</span> m)&#123;</span><br><span class=\"line\">            <span class=\"type\">long</span> <span class=\"type\">long</span> cnt=<span class=\"number\">0</span>;</span><br><span class=\"line\">            <span class=\"type\">int</span> left=<span class=\"number\">0</span>;</span><br><span class=\"line\">            unordered_map&lt;<span class=\"type\">int</span>, <span class=\"type\">int</span>&gt; h;<span class=\"comment\">//记录次数</span></span><br><span class=\"line\">            <span class=\"comment\">//滑动窗口的模板</span></span><br><span class=\"line\">            <span class=\"comment\">//先固定左端，移动右端</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> left=<span class=\"number\">0</span>,right=<span class=\"number\">0</span>;right&lt;n;right++)&#123;</span><br><span class=\"line\">                h[nums[right]]++;</span><br><span class=\"line\">                <span class=\"comment\">//当大于 m 即大于了的子数组个数</span></span><br><span class=\"line\">                <span class=\"comment\">//窗户口元素过多了</span></span><br><span class=\"line\">                <span class=\"keyword\">while</span>(h.<span class=\"built_in\">size</span>()&gt;m)&#123;</span><br><span class=\"line\">                    h[nums[left]]--;<span class=\"comment\">//减去多余的统计个数</span></span><br><span class=\"line\">                    <span class=\"keyword\">if</span>(h[nums[left]]==<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                        h.<span class=\"built_in\">erase</span>(nums[left]);<span class=\"comment\">//删除多余的窗口统计</span></span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    left++;<span class=\"comment\">//将左边界向右移动一位</span></span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                cnt+=right-left<span class=\"number\">+1</span>; <span class=\"comment\">// 右端点固定为 r 时，有 r-l+1 个合法左端点</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span>(cnt&gt;=k) <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">        <span class=\"type\">int</span> l=<span class=\"number\">0</span>,r=n;</span><br><span class=\"line\">        <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">        二分的内容是 distinct的数组中的内容</span></span><br><span class=\"line\"><span class=\"comment\">        比如实例1：</span></span><br><span class=\"line\"><span class=\"comment\">        nums = [1,2,3],distinct=[1, 1, 1, 2, 2, 3], ans=1</span></span><br><span class=\"line\"><span class=\"comment\">        l=0,r=3,mid=1，k=3</span></span><br><span class=\"line\"><span class=\"comment\">        进入solve当中，</span></span><br><span class=\"line\"><span class=\"comment\">        进行第一轮操作后，left=0,right=0，h.size()=1，cnt=1&lt;k</span></span><br><span class=\"line\"><span class=\"comment\">        进行第二轮操作后，left=0,right=1，h.size()=2&gt;m,窗口滑动一次,left++,cnt=2&lt;k</span></span><br><span class=\"line\"><span class=\"comment\">        进行第三轮操作后，left=1,right=2，h.size()=2&gt;m,窗口滑动一次,left++,cnt=3=k，即此刻说明我所组成的子数组数已经达到我所求的k的位置</span></span><br><span class=\"line\"><span class=\"comment\">        */</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span>(l<span class=\"number\">+1</span>&lt;r)&#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> mid=(l+r)/<span class=\"number\">2</span>;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(<span class=\"built_in\">solve</span>(mid)) r=mid;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> l=mid;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> r;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n","feature":false,"text":"前言本次通过学习 灵茶山艾府 的代码进行解题研究 题目题目描述： 给你一个整数数组 nums 。数组 nums 的唯一性数组是一个按元素从小到大排序的数组，包含...","permalink":"/post/3134. 找出唯一性数组的中位数（24.8.27）","photos":[],"count_time":{"symbolsCount":"2.9k","symbolsTime":"3 mins."},"categories":[{"name":"力扣每日一题 - Cate","slug":"力扣每日一题-Cate","count":23,"path":"api/categories/力扣每日一题-Cate.json"}],"tags":[{"name":"Tag","slug":"Tag","count":23,"path":"api/tags/Tag.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%89%8D%E8%A8%80\"><span class=\"toc-text\">前言</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%A2%98%E7%9B%AE\"><span class=\"toc-text\">题目</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%A7%A3%E9%A2%98%E6%80%9D%E8%B7%AF\"><span class=\"toc-text\">解题思路</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BB%A3%E7%A0%81\"><span class=\"toc-text\">代码</span></a></li></ol>","author":{"name":"木兮xg","slug":"blog-author","avatar":"https://s3.bmp.ovh/imgs/2024/07/30/a1a842c36ee5df76.jpg","link":"/","description":"花有重开日，人无再少年。相逢拌酩酊，何必备芳鲜。","socials":{"github":"https://github.com/muxixg","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/qq_60624992","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"3144. 分割字符频率相等的最少子字符串（24.8.28）","uid":"b47e0977c91a3294eec04548018a37a6","slug":"3144. 分割字符频率相等的最少子字符串（24.8.28）","date":"2024-08-28T09:34:09.596Z","updated":"2024-09-04T11:35:07.711Z","comments":true,"path":"api/articles/3144. 分割字符频率相等的最少子字符串（24.8.28）.json","keywords":null,"cover":"https://s3.bmp.ovh/imgs/2024/09/04/9813f071f456e3ba.png","text":"题目题目：给你一个字符串 s ，你需要将它分割成一个或者更多的平衡子字符串。 比方说，s == \"ababcc\" 那么 (\"abab\",\"c\",\"c\") ，(\"...","permalink":"/post/3144. 分割字符频率相等的最少子字符串（24.8.28）","photos":[],"count_time":{"symbolsCount":"2k","symbolsTime":"2 mins."},"categories":[{"name":"力扣每日一题 - Cate","slug":"力扣每日一题-Cate","count":23,"path":"api/categories/力扣每日一题-Cate.json"}],"tags":[{"name":"Tag","slug":"Tag","count":23,"path":"api/tags/Tag.json"}],"author":{"name":"木兮xg","slug":"blog-author","avatar":"https://s3.bmp.ovh/imgs/2024/07/30/a1a842c36ee5df76.jpg","link":"/","description":"花有重开日，人无再少年。相逢拌酩酊，何必备芳鲜。","socials":{"github":"https://github.com/muxixg","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/qq_60624992","juejin":"","customs":{}}},"feature":false},"next_post":{"title":"690. 员工的重要性（24.8.26）","uid":"02a34e1e4a78b84dd421c121c20c981e","slug":"690. 员工的重要性（24.8.26）","date":"2024-08-26T08:53:00.199Z","updated":"2024-09-04T11:36:12.905Z","comments":true,"path":"api/articles/690. 员工的重要性（24.8.26）.json","keywords":null,"cover":"https://s3.bmp.ovh/imgs/2024/09/04/9813f071f456e3ba.png","text":"题目题目描述： 你拥有一个用于保存员工信息的数据结构，其中包含员工唯一的id、重要度以及直系下属的id。 给定一个员工数组employees，其中： emplo...","permalink":"/post/690. 员工的重要性（24.8.26）","photos":[],"count_time":{"symbolsCount":"1.5k","symbolsTime":"1 mins."},"categories":[{"name":"力扣每日一题 - Cate","slug":"力扣每日一题-Cate","count":23,"path":"api/categories/力扣每日一题-Cate.json"}],"tags":[{"name":"Tag","slug":"Tag","count":23,"path":"api/tags/Tag.json"}],"author":{"name":"木兮xg","slug":"blog-author","avatar":"https://s3.bmp.ovh/imgs/2024/07/30/a1a842c36ee5df76.jpg","link":"/","description":"花有重开日，人无再少年。相逢拌酩酊，何必备芳鲜。","socials":{"github":"https://github.com/muxixg","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/qq_60624992","juejin":"","customs":{}}},"feature":false}}